<ion-header>
  <ion-toolbar color="primary">
    <ion-icon name="menu" class="fontlarge"  slot="start" (click)="ActionOnOpenSheet()"></ion-icon>

    <ion-icon name="arrow-back" class="fontlarge"  slot="start" (click)="ActionOnMove('prev')"></ion-icon>
    
    <ion-title>
      {{ viewTitle }}
    </ion-title>
    <!-- <ion-buttons slot="end">
      <ion-button (click)="today()">Today</ion-button>
    </ion-buttons> -->
    <ion-icon name="arrow-forward" class="fontlarge" slot="end" (click)="ActionOnMove('next')"></ion-icon>
    <ion-icon name="home" slot="end" class="fontlarge" (click)="ActionGoToHome()"></ion-icon>
  </ion-toolbar>

  <ion-toolbar>
    <ion-row style="color:darkblue;">
      <ion-col (click)="ActionFilterPopup()">
     <h3 class="no-margin" style="font-weight: bold;">{{calObj.ActivityType}} </h3>
      <p  *ngIf="calObj.ResourceNames != '' && calObj.ResourceNames != null">
        -  {{calObj.ResourceNames}}
      </p>
    </ion-col>
    </ion-row>
</ion-toolbar>
</ion-header>
<ion-content>
  
  <!-- Card for adding a new event -->
  <!-- <ion-card>
     <ion-item>
         <ion-label>Event Type</ion-label>
         <ion-select #C (ionChange)="onChangeOfModelEvent(C.value)" interface="popover">
         <ion-select-option *ngFor="let i of arrChangeFilter">{{i}}</ion-select-option>
         </ion-select>
     </ion-item>
  </ion-card> -->
 
 
  <calendar 
  [eventSource]="activitylist" 
  [calendarMode]="calendar.mode" 
  [queryMode]="calendar.queryMode"
  [currentDate]="calendar.currentDate"
  (onEventSelected)="ActionOnEventSelected($event)"
  (onTitleChanged)="ActionOnViewTitleChanged($event)"
  
  
  (onRangeChanged)="ActionOnRangeChanged($event)"
  startHour="6"
  endHour="20"
  step="30"
  startingDayWeek="1"
  [monthviewDisplayEventTemplate]="template"
  >
 </calendar>
 <!--<ng-template #template let-showEventDetail="showEventDetail" let-selectedDate="selectedDate" let-noEventsLabel="noEventsLabel">
   ... 
   </ng-template>-->
   <!-- <ng-template #template let-view="view" let-row="row" let-col="col">
     {{view.dates[row*7+col].label}}

     <div no-padding *ngFor="let event of view.dates[row*7+col].events">
       <div *ngIf= "afterViewType == '';else usualProcess">
         <ion-card no-padding
          (click)="onEventSelected(event)"> <ion-label color="light" >{{event.title}}</ion-label>
         </ion-card> 
       </div>
     </div>

       <ng-template #usualProcess>
         <div no-padding *ngFor = "let events of view.dates[row*7+col].events">
         <div *ngIf = "afterViewType === events.eventType;else otherfilter">
         <ion-card no-padding
         (click)="onEventSelected(events)"> <ion-label color="danger" >{{events.eventType}}</ion-label>
        </ion-card> 
       </div>
       <ng-template #otherfilter>
           <ion-card no-padding
       (click)="onEventSelected(events)"> <ion-label color="danger" >{{event.title}}</ion-label>
          </ion-card>
       </ng-template>
        </div>
       </ng-template>
</ng-template> -->

<ion-fab vertical="bottom" horizontal="end">
  <ion-button  color="primary" (click)="ActionAddActivity(0)"><ion-icon name="add"></ion-icon> </ion-button>
 </ion-fab>
</ion-content>
