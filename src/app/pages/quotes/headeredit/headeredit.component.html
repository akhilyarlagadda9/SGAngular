<form #form="ngForm" (ngSubmit)="ActionSaveHeader(form)" class="dis-content">
<ion-header>
    <ion-toolbar color="light">
        <ion-buttons slot="start">
          <ion-button color="danger" type="button" (click)="ActionCloseJobEdit(false)">
            Cancel
          </ion-button>
        </ion-buttons>
        <ion-buttons slot="end">
          <ion-button color="secondary" type="submit">
            Save
          </ion-button>
        </ion-buttons>
        <ion-title align="center">
            Job Info
        </ion-title>
      </ion-toolbar>
    <!-- <ion-toolbar>
        <ion-title class="titleheader">Job Info</ion-title>
        <ion-button slot="end" color="success" size="small" (click)="ActionSaveHeader(true)">Save</ion-button>
        <ion-button slot="end" color="danger" size="small" (click)="ActionCloseJobEdit(false)">X</ion-button>
    </ion-toolbar> -->
</ion-header>
<ion-content>
    <ion-list class="ion-no-margin ion-no-padding">
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Job Name</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.QuoteName" name="QuoteName" class="inputheight"></ion-input>
        </ion-item>
        <div [hidden]="!form.submitted  || headerinfo.QuoteName.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Address</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.Address1" name="Address1" class="inputheight"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">City</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.City" name="City" class="inputheight"></ion-input>
        </ion-item>
        <div [hidden]="!form.submitted  || headerinfo.City.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">State</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.State" name="State" class="inputheight"></ion-input>
        </ion-item>
        <div [hidden]="!form.submitted  || headerinfo.State.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Zipcode</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.Zipcode" name="Zipcode" class="inputheight"></ion-input>
        </ion-item>
        <div [hidden]="!form.submitted  || headerinfo.Zipcode.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Year Built</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.YearBuilt" name="YearBuilt" class="inputheight"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Quote Number</ion-label>
            <ion-input required type="text" [(ngModel)]="headerinfo.QuoteNo" name="QuoteNo" class="inputheight"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Quote Date</ion-label>
            <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="headerinfo.QuoteDate" name="QuoteDate"></ion-datetime>
        </ion-item>
        <ion-item>
            <ion-label position="floating" color="primary" class="labelfont margin-zero">Expiry Date</ion-label>
            <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="headerinfo.Version.ExpiryDate" name="ExpiryDate"></ion-datetime>
        </ion-item>
        <ion-item>
            <ion-label class="labelfont margin-zero" position="floating" color="primary">Sales Rep</ion-label>
            <ion-select required [(ngModel)]="headerinfo.SalesPerson" name="SalesPerson" [selectedText]="headerinfo.SalesPerson" name="SalesPerson">
              <ion-select-option *ngFor="let p of salesPersonsList" [value]="p.ResourceName">{{p.ResourceName}}</ion-select-option>
            </ion-select>
         </ion-item>
         <div [hidden]="!form.submitted  || headerinfo.SalesPerson.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label class="labelfont margin-zero" position="floating" color="primary">Estimator</ion-label>
            <ion-select [(ngModel)]="headerinfo.Estimator" name="Estimator" class="labelfont" name="Estimator" [selectedText]="headerinfo.Estimator">
              <ion-select-option [value]="0" selected>--Select One--</ion-select-option>
              <ion-select-option *ngFor="let p of estimatorsList" [value]="p.ResourceName">{{p.ResourceName}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        <ion-item>
            <ion-label class="labelfont margin-zero" position="floating" color="primary">Project Manager</ion-label>
            <ion-select [(ngModel)]="headerinfo.ProjectManager" name="ProjectManager" class="labelfont" name="ProjectManager" [selectedText]="headerinfo.ProjectManager">
                <ion-select-option [value]="0" selected>--Select One--</ion-select-option>
              <ion-select-option *ngFor="let p of projectManagersList" [value]="p.ResourceName">{{p.ResourceName}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        <ion-item>
            <ion-label class="labelfont margin-zero" position="floating" color="primary">Production Type</ion-label>
            <ion-select required [(ngModel)]="headerinfo.JobType" name="JobType" class="labelfont" name="JobType" [selectedText]="headerinfo.JobType">
              <ion-select-option *ngFor="let p of productionTypeList" [value]="p.Name">{{p.Name}}
              </ion-select-option>
            </ion-select>
          </ion-item>
          <div [hidden]="!form.submitted  || headerinfo.JobType.valid" class="invalid-feedback padd-Left">
            <div class="error">Account Name is required</div>
          </div>
        <ion-item>
            <ion-label class="labelfont margin-zero" position="floating" color="primary">Price List</ion-label>      
            <ion-select [(ngModel)]="headerinfo.Version.PriceListID" name="PriceListID" #PriceListID="ngModel" name="PriceListID"  class="labelfont">
              <ion-select-option *ngFor="let p of priceList" [value]="p.RefID">{{p.Name}}</ion-select-option>
            </ion-select>
          </ion-item>
        <ion-item class="borbottom">
            <ion-label position="floating" color="primary" class="margin-zero">Lat & Long</ion-label>
            <ion-row>
                <ion-col size="6">
                    <ion-input required type="text" class="inputheight border-right" name="Lat" [(ngModel)]="headerinfo.Lat">
                    </ion-input>
                </ion-col>
                <ion-col size="6">
                    <ion-input required type="text" class="inputheight" [(ngModel)]="headerinfo.Long" name="Long"></ion-input>
                </ion-col>
            </ion-row>
        </ion-item>
        <ion-row>
            <ion-col size="4">
                <ion-label color="primary" class="isfinanacesty">Is Financed</ion-label>
            </ion-col>
            <ion-col size="1">
                <ion-checkbox color="dark" [(ngModel)]="headerinfo.Version.Financed" name="Financed" checked="headerinfo.Version.Financed ==1">
                </ion-checkbox>
            </ion-col>
        </ion-row>
        <ion-row class="bgcolor-gray">
            <ion-col size="12" color="primary">Contacts</ion-col>
        </ion-row>
        <ion-row *ngFor="let contact of headerinfo.QuoteContacts">
            <ion-col size="12">
                <ion-label>
                    <h2> {{contact.Name}}</h2>
                    <p>
                        <ion-icon name="mail"></ion-icon> {{contact.Email}}
                    </p>
                    <p>
                        <ion-icon name="call"></ion-icon> {{contact.Phone}}
                    </p>
                </ion-label>
            </ion-col>
        </ion-row>
    </ion-list>
    <ion-list class="martop0">
        <ion-row style="background-color: lightgray;">
            <ion-col size="9">
                <ion-label color="primary" class="labelfont margin-zero"><b>PO ITEMS</b></ion-label>
            </ion-col>
            <ion-col size="3" class="text-right" (click)="ActionEditPOItem(0)" style="color: #3171e0"><u><b>ADD+</b></u>
            </ion-col>
        </ion-row>
        <ion-row  *ngFor="let info of headerinfo.PoItemList; let i = index">
            <ion-col>
                <ion-row>
                    <ion-col size="9" class="paddzero">
                        <span>
                            <ion-icon name="trash" class="delsty"></ion-icon>
                        </span>
                        <span>&nbsp;&nbsp;<u (click)="ActionEditPOItem(info, i)"><b>PO#</b></u>:</span>
                        <span>{{info.PONumber}}</span>,
                        <span>{{info.POBy}}</span>
                    </ion-col>
                    <ion-col size="3" class="paddzero text-right">
                        <span>{{info.PODate | date:'MM/dd/yyyy'}}</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col size="9" class="paddzero">
                        <span style="padding-left: 21px;">Attachment(s):</span>
                        <span>{{info.Path}}</span>
                    </ion-col>
                    <ion-col size="3" class="paddzero text-right">
                        <span class="color-green">${{info.POAmount | number : '.2-2'}}</span>
                    </ion-col>
                </ion-row>
            </ion-col>
        </ion-row>
    </ion-list>
</ion-content>
</form>